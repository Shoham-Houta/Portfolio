{% extends 'base.html' %} {% block title %} Home {% endblock %}

<body>
  {% block Content %} {% with messages =
  get_flashed_messages(with_categories=true) %} {% if messages %}
  <div class="container mt-3">
    {% for category, message in messages %}
    <div
      class="alert alert-{{ category }} alert-dismissible fade show"
      role="alert"
    >
      {{ message }}
      <button
        type="button"
        class="btn-close"
        data-bs-dismiss="alert"
        aria-label="Close"
      ></button>
    </div>
    {% endfor %}
  </div>
  {% endif %} {% endwith %}
  <header
    class="hero d-flex align-items-center justify-content-center text-center"
  >
    <div class="container">
      <h1 class="display-4">Hi, I'm Shoham Houta</h1>
      <p class="lead">
        A passionate developer specializing in security, networking, and
        software engineering.
      </p>
      <a href="/projects" class="btn btn-primary btn-lg">View My Projects</a>
    </div>
  </header>

  <!-- About Preview Section -->
  <section class="container text-center my-5">
    <h2>About Me</h2>
    <p>
      A short introduction about yourself...<br /><a
        href="/about"
        class="btn btn-outline-primary mt-2"
        >Read More</a
      >
    </p>
  </section>
  <section class="container my-5">
    <h2 class="text-center">Featured Projects</h2>
    <div class="row">
      <div class="col-md-4">
        <div class="card">
          <img src="static/project1.jpg" class="card-img-top" alt="Project 1" />
          <div class="card-body">
            <h5 class="card-title">Project 1</h5>
            <p class="card-text">Short description...</p>
            <a href="/projects/1" class="btn btn-primary">View Project</a>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card">
          <img src="static/project2.jpg" class="card-img-top" alt="Project 2" />
          <div class="card-body">
            <h5 class="card-title">Project 2</h5>
            <p class="card-text">Short description...</p>
            <a href="/projects/2" class="btn btn-primary">View Project</a>
          </div>
        </div>
      </div>
      <div class="col-md-4">
        <div class="card">
          <img src="static/project3.jpg" class="card-img-top" alt="Project 3" />
          <div class="card-body">
            <h5 class="card-title">Project 3</h5>
            <p class="card-text">Short description...</p>
            <a href="/projects/3" class="btn btn-primary">View Project</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Background Blur Overlay -->
  <!-- Background Overlay (Blur Effect) -->
  <div id="overlay" class="overlay d-none"></div>

  <!-- Contact Form Section (Initially Hidden) -->
  <div class="container-fluid d-flex justify-content-center align-items-center">
    <div id="contactForm" class="form-container d-none">
      <form
        action="/Contact"
        method="post"
        class="p-4 border rounded bg-light shadow needs-validation"
        novalidate
      >
        {{ form.hidden_tag() }}

        <!-- Close Button -->
        <button
          type="button"
          class="btn-close position-absolute top-0 end-0 m-2"
          id="closeForm"
        ></button>

        <!-- Form Title -->
        <h3 class="text-center mb-3">Contact Me</h3>

        <!-- Name & Email -->
        <div class="row g-3">
          <div class="col-12 col-md-6">
            <label for="fullname" class="form-label">Full Name</label>
            <div class="input-group">
              <span class="input-group-text"
                ><i class="fa-solid fa-user"></i
              ></span>
              {{ form.fullname(class="form-control", required="required") }}
            </div>
            {% if form.fullname.errors %}
            <div class="text-danger">
              {% for error in form.fullname.errors %} {{ error }} {% endfor %}
            </div>
            {% endif %}
          </div>
          <div class="col-12 col-md-6">
            <label for="email" class="form-label">Email</label>
            <div class="input-group">
              <span class="input-group-text"
                ><i class="fa-solid fa-envelope"></i
              ></span>
              {{ form.email(class="form-control", required="required") }}
            </div>
            {% if form.email.errors %}
            <div class="text-danger">
              {% for error in form.email.errors %} {{ error }} {% endfor %}
            </div>
            {% endif %}
          </div>
        </div>

        <!-- Subject -->
        <div class="row g-3 mt-2">
          <div class="col-12">
            <label for="subject" class="form-label">Subject</label>
            <div class="input-group">
              <span class="input-group-text"
                ><i class="fa-solid fa-pen"></i
              ></span>
              {{ form.subject(class="form-control", required="required") }}
            </div>
            {% if form.subject.errors %}
            <div class="text-danger">
              {% for error in form.subject.errors %} {{ error }} {% endfor %}
            </div>
            {% endif %}
          </div>
        </div>

        <!-- Message -->
        <div class="mb-3">
          <label for="message" class="form-label">Message</label>
          <div id="editor" class="form-control" style="height: 150px"></div>
          <input type="hidden" name="message" id="hiddenMessage" />
        </div>
        {% if form.message.errors %}
        <div class="text-danger">
          {% for error in form.message.errors %} {{ error }} {% endfor %}
        </div>
        {% endif %}

        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary w-100 mt-3">
          Send Message
        </button>

        <!-- Contact Methods -->
        <div class="text-center mt-4">
          <p class="fw-bold">Or reach me directly:</p>
          <ul class="list-unstyled">
            <li>
              <i class="fa-solid fa-envelope"></i>
              <a href="mailto:houta.shoham@gmail.com">houta.shoham@gmail.com</a>
            </li>
            <li>
              <i class="fa-solid fa-phone"></i>
              <a href="tel:+9720502137818">+972 50-213-7818</a>
            </li>
            <li>
              <i class="fa-brands fa-linkedin"></i>
              <a href="https://linkedin.com/in/shohamhouta" target="_blank"
                >LinkedIn</a
              >
            </li>
            <li>
              <i class="fa-brands fa-github"></i>
              <a href="https://github.com/Shoham-Houta" target="_blank"
                >GitHub</a
              >
            </li>
          </ul>
        </div>
      </form>
    </div>
  </div>

  <!-- 
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Initialize Quill Editor
      var quill = new Quill("#editor", {
        theme: "snow",
        placeholder: "Write your message...",
        modules: {
          toolbar: [
            ["bold", "italic", "underline"],
            [{ list: "ordered" }, { list: "bullet" }],
            [{ align: [] }],
            ["link"],
            ["clean"],
          ],
        },
      });

      // Update hidden input when content changes
      quill.on("text-change", function () {
        document.getElementById("hiddenMessage").value = quill.root.innerHTML;
      });

      // Form toggle elements
      let form = document.getElementById("contactForm");
      let overlay = document.getElementById("overlay");
      let closeForm = document.getElementById("closeForm");
      let contactButton = document.getElementById("toggleContact");
      let contactButtonFooter = document.getElementById("toggleContactFooter");
      let offcanvasMenu = document.querySelector(".offcanvas"); // Bootstrap offcanvas menu

      // Bootstrap Offcanvas API
      let offcanvasInstance =
        bootstrap.Offcanvas.getInstance(offcanvasMenu) ||
        new bootstrap.Offcanvas(offcanvasMenu);

      // Show form function
      function showContactForm() {
        form.classList.remove("d-none");
        overlay.classList.remove("d-none");

        // Close menu if open
        if (offcanvasMenu.classList.contains("show")) {
          offcanvasInstance.hide();
        }

        setTimeout(() => {
          form.classList.add("show");
          overlay.classList.add("show");
        }, 10); // Smooth transition
      }

      // Hide form function
      function hideContactForm() {
        form.classList.remove("show");
        overlay.classList.remove("show");
        setTimeout(() => {
          form.classList.add("d-none");
          overlay.classList.add("d-none");
        }, 300); // Matches transition duration
      }

      // Toggle form when clicking the contact button
      contactButton.addEventListener("click", function () {
        if (form.classList.contains("d-none")) {
          showContactForm();
        } else {
          hideContactForm();
        }
      });
      contactButtonFooter.addEventListener("click", function () {
        if (form.classList.contains("d-none")) {
          showContactForm();
        } else {
          hideContactForm();
        }
      });
      // Close form when clicking close button or outside overlay
      closeForm.addEventListener("click", hideContactForm);
      overlay.addEventListener("click", hideContactForm);
    });
  </script> -->

  {% endblock %}
</body>
